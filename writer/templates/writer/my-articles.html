{% extends 'writer/navbar.html' %}


{% block content %}

<br>

<div class="container mt-4">
    <h2 class="mb-4 text-center">My Articles</h2>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for article in AllArticles %}
        <div class="col">
            <div class="bg-white shadow-md p-4 rounded h-100 d-flex flex-column justify-content-between">

                {% if article.image %}
                <div class="mb-3" style="height: 200px; overflow: hidden;">
                    <img src="{{ article.image.url }}" class="w-100 h-100 object-fit-cover rounded" alt="{{ article.title }}" style="object-fit: cover;">
                </div>
                {% endif %}

                <div class="flex-grow-1 d-flex flex-column justify-content-between">
                    <div>
                        <h5 class="mb-2">{{ article.title }}</h5>
                        <p class="text-muted small">{{ article.date_posted|date:"d M Y" }}</p>
                        <p><strong>Price:</strong> {{ article.price }} THB</p>
                        <p><strong>Location:</strong> {{ article.location }}</p>
                        <hr class="my-2">
                        <p class="text-muted small">Click below to read more...</p>
                            <a class="btn btn-outline-primary w-100 mb-2" href="{% url 'article-detail' article.id %}">
                                View Details
                            </a>


                    </div>

                    <div class="mt-3 text-end">
                        <span class="badge {% if article.is_premium %}bg-warning text-dark{% else %}bg-secondary{% endif %}">
                            {{ article.is_premium|yesno:"Premium,Standard" }}
                        </span>
                    </div>
                </div>

                <hr>

                <a class="btn btn-info w-100 p-2 mb-2" href="{% url 'update-article' article.id %}">Update article</a>
                <a class="btn btn-danger w-100 p-2" href="{% url 'delete-article' article.id %}">Delete article</a>

            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}





